"no use strict";;(function(w){if(typeof w.window!="undefined"&&w.document)return;if(w.require&&w.define)return;if(!w.console){w.console=function(){var a=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:a});};w.console.error=w.console.warn=w.console.log=w.console.trace=w.console;}w.window=w;w.ace=w;w.onerror=function(a,f,l,c,e){postMessage({type:"error",data:{message:a,data:e.data,file:f,line:l,col:c,stack:e.stack}});};w.normalizeModule=function(p,a){if(a.indexOf("!")!==-1){var c=a.split("!");return w.normalizeModule(p,c[0])+"!"+w.normalizeModule(p,c[1]);}if(a.charAt(0)=="."){var b=p.split("/").slice(0,-1).join("/");a=(b?b+"/":"")+a;while(a.indexOf(".")!==-1&&d!=a){var d=a;a=a.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");}}return a;};w.require=function require(p,i){if(!i){i=p;p=null;}if(!i.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");i=w.normalizeModule(p,i);var a=w.require.modules[i];if(a){if(!a.initialized){a.initialized=true;a.exports=a.factory().exports;}return a.exports;}if(!w.require.tlns)return console.log("unable to load "+i);var b=r(i,w.require.tlns);if(b.slice(-3)!=".js")b+=".js";w.require.id=i;w.require.modules[i]={};importScripts(b);return w.require(p,i);};function r(a,p){var t=a,b="";while(t){var c=p[t];if(typeof c=="string"){return c+b;}else if(c){return c.location.replace(/\/*$/,"/")+(b||c.main||c.name);}else if(c===false){return"";}var i=t.lastIndexOf("/");if(i===-1)break;b=t.substr(i)+b;t=t.slice(0,i);}return a;}w.require.modules={};w.require.tlns={};w.define=function(i,d,f){if(arguments.length==2){f=d;if(typeof i!="string"){d=i;i=w.require.id;}}else if(arguments.length==1){f=i;d=[];i=w.require.id;}if(typeof f!="function"){w.require.modules[i]={exports:f,initialized:true};return;}if(!d.length)d=["require","exports","module"];var a=function(c){return w.require(i,c);};w.require.modules[i]={exports:{},factory:function(){var b=this;var c=f.apply(this,d.map(function(e){switch(e){case"require":return a;case"exports":return b.exports;case"module":return b;default:return a(e);}}));if(c)b.exports=c;return b;}};};w.define.amd={};require.tlns={};w.initBaseUrls=function initBaseUrls(t){for(var i in t)require.tlns[i]=t[i];};w.initSender=function initSender(){var E=w.require("ace/lib/event_emitter").EventEmitter;var o=w.require("ace/lib/oop");var S=function(){};(function(){o.implement(this,E);this.callback=function(d,c){postMessage({type:"call",id:c,data:d});};this.emit=function(n,d){postMessage({type:"event",name:n,data:d});};}).call(S.prototype);return new S();};var m=w.main=null;var s=w.sender=null;w.onmessage=function(e){var a=e.data;if(a.event&&s){s._signal(a.event,a.data);}else if(a.command){if(m[a.command])m[a.command].apply(m,a.args);else if(w[a.command])w[a.command].apply(w,a.args);else throw new Error("Unknown command:"+a.command);}else if(a.init){w.initBaseUrls(a.tlns);require("ace/lib/es5-shim");s=w.sender=w.initSender();var c=require(a.module)[a.classname];m=w.main=new c(s);}};})(this);ace.define("ace/lib/oop",["require","exports","module"],function(r,e,m){"use strict";e.inherits=function(c,s){c.super_=s;c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:false,writable:true,configurable:true}});};e.mixin=function(o,a){for(var k in a){o[k]=a[k];}return o;};e.implement=function(p,a){e.mixin(p,a);};});ace.define("ace/range",["require","exports","module"],function(r,e,m){"use strict";var c=function(p,a){return p.row-a.row||p.column-a.column;};var R=function(s,a,b,d){this.start={row:s,column:a};this.end={row:b,column:d};};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column;};this.toString=function(){return("Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]");};this.contains=function(a,b){return this.compare(a,b)==0;};this.compareRange=function(a){var b,d=a.end,s=a.start;b=this.compare(d.row,d.column);if(b==1){b=this.compare(s.row,s.column);if(b==1){return 2;}else if(b==0){return 1;}else{return 0;}}else if(b==-1){return-2;}else{b=this.compare(s.row,s.column);if(b==-1){return-1;}else if(b==1){return 42;}else{return 0;}}};this.comparePoint=function(p){return this.compare(p.row,p.column);};this.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0;};this.intersects=function(a){var b=this.compareRange(a);return(b==-1||b==0||b==1);};this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b;};this.isStart=function(a,b){return this.start.row==a&&this.start.column==b;};this.setStart=function(a,b){if(typeof a=="object"){this.start.column=a.column;this.start.row=a.row;}else{this.start.row=a;this.start.column=b;}};this.setEnd=function(a,b){if(typeof a=="object"){this.end.column=a.column;this.end.row=a.row;}else{this.end.row=a;this.end.column=b;}};this.inside=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)||this.isStart(a,b)){return false;}else{return true;}}return false;};this.insideStart=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)){return false;}else{return true;}}return false;};this.insideEnd=function(a,b){if(this.compare(a,b)==0){if(this.isStart(a,b)){return false;}else{return true;}}return false;};this.compare=function(a,b){if(!this.isMultiLine()){if(a===this.start.row){return b<this.start.column?-1:(b>this.end.column?1:0);}}if(a<this.start.row)return-1;if(a>this.end.row)return 1;if(this.start.row===a)return b>=this.start.column?0:-1;if(this.end.row===a)return b<=this.end.column?0:1;return 0;};this.compareStart=function(a,b){if(this.start.row==a&&this.start.column==b){return-1;}else{return this.compare(a,b);}};this.compareEnd=function(a,b){if(this.end.row==a&&this.end.column==b){return 1;}else{return this.compare(a,b);}};this.compareInside=function(a,b){if(this.end.row==a&&this.end.column==b){return 1;}else if(this.start.row==a&&this.start.column==b){return-1;}else{return this.compare(a,b);}};this.clipRows=function(f,l){if(this.end.row>l)var a={row:l+1,column:0};else if(this.end.row<f)var a={row:f,column:0};if(this.start.row>l)var s={row:l+1,column:0};else if(this.start.row<f)var s={row:f,column:0};return R.fromPoints(s||this.start,a||this.end);};this.extend=function(a,b){var d=this.compare(a,b);if(d==0)return this;else if(d==-1)var s={row:a,column:b};else var f={row:a,column:b};return R.fromPoints(s||this.start,f||this.end);};this.isEmpty=function(){return(this.start.row===this.end.row&&this.start.column===this.end.column);};this.isMultiLine=function(){return(this.start.row!==this.end.row);};this.clone=function(){return R.fromPoints(this.start,this.end);};this.collapseRows=function(){if(this.end.column==0)return new R(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);else return new R(this.start.row,0,this.end.row,0)};this.toScreenRange=function(s){var a=s.documentToScreenPosition(this.start);var b=s.documentToScreenPosition(this.end);return new R(a.row,a.column,b.row,b.column);};this.moveBy=function(a,b){this.start.row+=a;this.start.column+=b;this.end.row+=a;this.end.column+=b;};}).call(R.prototype);R.fromPoints=function(s,a){return new R(s.row,s.column,a.row,a.column);};R.comparePoints=c;R.comparePoints=function(p,a){return p.row-a.row||p.column-a.column;};e.Range=R;});ace.define("ace/apply_delta",["require","exports","module"],function(r,e,m){"use strict";function t(d,a){console.log("Invalid Delta:",d);throw"Invalid Delta: "+a;}function p(d,a){return a.row>=0&&a.row<d.length&&a.column>=0&&a.column<=d[a.row].length;}function v(d,a){if(a.action!="insert"&&a.action!="remove")t(a,"delta.action must be 'insert' or 'remove'");if(!(a.lines instanceof Array))t(a,"delta.lines must be an Array");if(!a.start||!a.end)t(a,"delta.start/end must be an present");var s=a.start;if(!p(d,a.start))t(a,"delta.start must be contained in document");var b=a.end;if(a.action=="remove"&&!p(d,b))t(a,"delta.end must contained in document for 'remove' actions");var n=b.row-s.row;var c=(b.column-(n==0?s.column:0));if(n!=a.lines.length-1||a.lines[n].length!=c)t(a,"delta.range must match delta lines");}e.applyDelta=function(d,a,b){var c=a.start.row;var s=a.start.column;var l=d[c]||"";switch(a.action){case"insert":var f=a.lines;if(f.length===1){d[c]=l.substring(0,s)+a.lines[0]+l.substring(s);}else{var g=[c,1].concat(a.lines);d.splice.apply(d,g);d[c]=l.substring(0,s)+d[c];d[c+a.lines.length-1]+=l.substring(s);}break;case"remove":var h=a.end.column;var i=a.end.row;if(c===i){d[c]=l.substring(0,s)+l.substring(h);}else{d.splice(c,i-c+1,l.substring(0,s)+d[i].substring(h));}break;}}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(r,a,m){"use strict";var E={};var s=function(){this.propagationStopped=true;};var p=function(){this.defaultPrevented=true;};E._emit=E._dispatchEvent=function(b,e){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[b]||[];var d=this._defaultHandlers[b];if(!l.length&&!d)return;if(typeof e!="object"||!e)e={};if(!e.type)e.type=b;if(!e.stopPropagation)e.stopPropagation=s;if(!e.preventDefault)e.preventDefault=p;l=l.slice();for(var i=0;i<l.length;i++){l[i](e,this);if(e.propagationStopped)break;}if(d&&!e.defaultPrevented)return d(e,this);};E._signal=function(b,e){var l=(this._eventRegistry||{})[b];if(!l)return;l=l.slice();for(var i=0;i<l.length;i++)l[i](e,this);};E.once=function(e,c){var _=this;c&&this.addEventListener(e,function newCallback(){_.removeEventListener(e,newCallback);c.apply(null,arguments);});};E.setDefaultHandler=function(e,c){var h=this._defaultHandlers;if(!h)h=this._defaultHandlers={_disabled_:{}};if(h[e]){var o=h[e];var d=h._disabled_[e];if(!d)h._disabled_[e]=d=[];d.push(o);var i=d.indexOf(c);if(i!=-1)d.splice(i,1);}h[e]=c;};E.removeDefaultHandler=function(e,c){var h=this._defaultHandlers;if(!h)return;var d=h._disabled_[e];if(h[e]==c){var o=h[e];if(d)this.setDefaultHandler(e,d.pop());}else if(d){var i=d.indexOf(c);if(i!=-1)d.splice(i,1);}};E.on=E.addEventListener=function(e,c,b){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[e];if(!l)l=this._eventRegistry[e]=[];if(l.indexOf(c)==-1)l[b?"unshift":"push"](c);return c;};E.off=E.removeListener=E.removeEventListener=function(e,c){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[e];if(!l)return;var i=l.indexOf(c);if(i!==-1)l.splice(i,1);};E.removeAllListeners=function(e){if(this._eventRegistry)this._eventRegistry[e]=[];};a.EventEmitter=E;});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(r,e,m){"use strict";var o=r("./lib/oop");var E=r("./lib/event_emitter").EventEmitter;var A=e.Anchor=function(d,a,c){this.$onChange=this.onChange.bind(this);this.attach(d);if(typeof c=="undefined")this.setPosition(a.row,a.column);else this.setPosition(a,c);};(function(){o.implement(this,E);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column);};this.getDocument=function(){return this.document;};this.$insertRight=false;this.onChange=function(d){if(d.start.row==d.end.row&&d.start.row!=this.row)return;if(d.start.row>this.row)return;var p=a(d,{row:this.row,column:this.column},this.$insertRight);this.setPosition(p.row,p.column,true);};function $(p,b,c){var C=c?p.column<=b.column:p.column<b.column;return(p.row<b.row)||(p.row==b.row&&C);}function a(d,p,b){var c=d.action=="insert";var f=(c?1:-1)*(d.end.row-d.start.row);var g=(c?1:-1)*(d.end.column-d.start.column);var h=d.start;var i=c?h:d.end;if($(p,h,b)){return{row:p.row,column:p.column};}if($(i,p,!b)){return{row:p.row+f,column:p.column+(p.row==i.row?g:0)};}return{row:h.row,column:h.column};}this.setPosition=function(b,c,n){var p;if(n){p={row:b,column:c};}else{p=this.$clipPositionToDocument(b,c);}if(this.row==p.row&&this.column==p.column)return;var d={row:this.row,column:this.column};this.row=p.row;this.column=p.column;this._signal("change",{old:d,value:p});};this.detach=function(){this.document.removeEventListener("change",this.$onChange);};this.attach=function(d){this.document=d||this.document;this.document.on("change",this.$onChange);};this.$clipPositionToDocument=function(b,c){var p={};if(b>=this.document.getLength()){p.row=Math.max(0,this.document.getLength()-1);p.column=this.document.getLine(p.row).length;}else if(b<0){p.row=0;p.column=0;}else{p.row=b;p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,c));}if(c<0)p.column=0;return p;};}).call(A.prototype);});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(r,e,m){"use strict";var o=r("./lib/oop");var a=r("./apply_delta").applyDelta;var E=r("./lib/event_emitter").EventEmitter;var R=r("./range").Range;var A=r("./anchor").Anchor;var D=function(t){this.$lines=[""];if(t.length===0){this.$lines=[""];}else if(Array.isArray(t)){this.insertMergedLines({row:0,column:0},t);}else{this.insert({row:0,column:0},t);}};(function(){o.implement(this,E);this.setValue=function(t){var l=this.getLength()-1;this.remove(new R(0,0,l,this.getLine(l).length));this.insert({row:0,column:0},t);};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter());};this.createAnchor=function(b,c){return new A(this,b,c);};if("aaa".split(/a/).length===0){this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n");};}else{this.$split=function(t){return t.split(/\r\n|\r|\n/);};}this.$detectNewLine=function(t){var b=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n";this._signal("changeNewLineMode");};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n";}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(n){if(this.$newLineMode===n)return;this.$newLineMode=n;this._signal("changeNewLineMode");};this.getNewLineMode=function(){return this.$newLineMode;};this.isNewLine=function(t){return(t=="\r\n"||t=="\r"||t=="\n");};this.getLine=function(b){return this.$lines[b]||"";};this.getLines=function(f,l){return this.$lines.slice(f,l+1);};this.getAllLines=function(){return this.getLines(0,this.getLength());};this.getLength=function(){return this.$lines.length;};this.getTextRange=function(b){return this.getLinesForRange(b).join(this.getNewLineCharacter());};this.getLinesForRange=function(b){var c;if(b.start.row===b.end.row){c=[this.getLine(b.start.row).substring(b.start.column,b.end.column)];}else{c=this.getLines(b.start.row,b.end.row);c[0]=(c[0]||"").substring(b.start.column);var l=c.length-1;if(b.end.row-b.start.row==l)c[l]=c[l].substring(0,b.end.column);}return c;};this.insertLines=function(b,l){console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");return this.insertFullLines(b,l);};this.removeLines=function(f,l){console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");return this.removeFullLines(f,l);};this.insertNewLine=function(p){console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");return this.insertMergedLines(p,["",""]);};this.insert=function(p,t){if(this.getLength()<=1)this.$detectNewLine(t);return this.insertMergedLines(p,this.$split(t));};this.insertInLine=function(p,t){var s=this.clippedPos(p.row,p.column);var b=this.pos(p.row,p.column+t.length);this.applyDelta({start:s,end:b,action:"insert",lines:[t]},true);return this.clonePos(b);};this.clippedPos=function(b,c){var l=this.getLength();if(b===undefined){b=l;}else if(b<0){b=0;}else if(b>=l){b=l-1;c=undefined;}var d=this.getLine(b);if(c==undefined)c=d.length;c=Math.min(Math.max(c,0),d.length);return{row:b,column:c};};this.clonePos=function(p){return{row:p.row,column:p.column};};this.pos=function(b,c){return{row:b,column:c};};this.$clipPosition=function(p){var l=this.getLength();if(p.row>=l){p.row=Math.max(0,l-1);p.column=this.getLine(l-1).length;}else{p.row=Math.max(0,p.row);p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length);}return p;};this.insertFullLines=function(b,l){b=Math.min(Math.max(b,0),this.getLength());var c=0;if(b<this.getLength()){l=l.concat([""]);c=0;}else{l=[""].concat(l);b--;c=this.$lines[b].length;}this.insertMergedLines({row:b,column:c},l);};this.insertMergedLines=function(p,l){var s=this.clippedPos(p.row,p.column);var b={row:s.row+l.length-1,column:(l.length==1?s.column:0)+l[l.length-1].length};this.applyDelta({start:s,end:b,action:"insert",lines:l});return this.clonePos(b);};this.remove=function(b){var s=this.clippedPos(b.start.row,b.start.column);var c=this.clippedPos(b.end.row,b.end.column);this.applyDelta({start:s,end:c,action:"remove",lines:this.getLinesForRange({start:s,end:c})});return this.clonePos(s);};this.removeInLine=function(b,s,c){var d=this.clippedPos(b,s);var f=this.clippedPos(b,c);this.applyDelta({start:d,end:f,action:"remove",lines:this.getLinesForRange({start:d,end:f})},true);return this.clonePos(d);};this.removeFullLines=function(f,l){f=Math.min(Math.max(0,f),this.getLength()-1);l=Math.min(Math.max(0,l),this.getLength()-1);var d=l==this.getLength()-1&&f>0;var b=l<this.getLength()-1;var s=(d?f-1:f);var c=(d?this.getLine(s).length:0);var g=(b?l+1:l);var h=(b?0:this.getLine(g).length);var i=new R(s,c,g,h);var j=this.$lines.slice(f,l+1);this.applyDelta({start:i.start,end:i.end,action:"remove",lines:this.getLinesForRange(i)});return j;};this.removeNewLine=function(b){if(b<this.getLength()-1&&b>=0){this.applyDelta({start:this.pos(b,this.getLine(b).length),end:this.pos(b+1,0),action:"remove",lines:["",""]});}};this.replace=function(b,t){if(!(b instanceof R))b=R.fromPoints(b.start,b.end);if(t.length===0&&b.isEmpty())return b.start;if(t==this.getTextRange(b))return b.end;this.remove(b);var c;if(t){c=this.insert(b.start,t);}else{c=b.start;}return c;};this.applyDeltas=function(d){for(var i=0;i<d.length;i++){this.applyDelta(d[i]);}};this.revertDeltas=function(d){for(var i=d.length-1;i>=0;i--){this.revertDelta(d[i]);}};this.applyDelta=function(d,b){var i=d.action=="insert";if(i?d.lines.length<=1&&!d.lines[0]:!R.comparePoints(d.start,d.end)){return;}if(i&&d.lines.length>20000)this.$splitAndapplyLargeDelta(d,20000);a(this.$lines,d,b);this._signal("change",d);};this.$splitAndapplyLargeDelta=function(d,M){var b=d.lines;var l=b.length;var c=d.start.row;var f=d.start.column;var g=0,t=0;do{g=t;t+=M-1;var h=b.slice(g,t);if(t>l){d.lines=h;d.start.row=c+g;d.start.column=f;break;}h.push("");this.applyDelta({start:this.pos(c+g,f),end:this.pos(c+t,f=0),action:d.action,lines:h},true);}while(true);};this.revertDelta=function(d){this.applyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:(d.action=="insert"?"remove":"insert"),lines:d.lines.slice()});};this.indexToPosition=function(b,s){var c=this.$lines||this.getAllLines();var n=this.getNewLineCharacter().length;for(var i=s||0,l=c.length;i<l;i++){b-=c[i].length+n;if(b<0)return{row:i,column:b+c[i].length+n};}return{row:l-1,column:c[l-1].length};};this.positionToIndex=function(p,s){var l=this.$lines||this.getAllLines();var n=this.getNewLineCharacter().length;var b=0;var c=Math.min(p.row,l.length);for(var i=s||0;i<c;++i)b+=l[i].length+n;return b+p.column;};}).call(D.prototype);e.Document=D;});ace.define("ace/lib/lang",["require","exports","module"],function(r,e,m){"use strict";e.last=function(a){return a[a.length-1];};e.stringReverse=function(s){return s.split("").reverse().join("");};e.stringRepeat=function(s,c){var a='';while(c>0){if(c&1)a+=s;if(c>>=1)s+=s;}return a;};var t=/^\s\s*/;var b=/\s\s*$/;e.stringTrimLeft=function(s){return s.replace(t,'');};e.stringTrimRight=function(s){return s.replace(b,'');};e.copyObject=function(o){var c={};for(var k in o){c[k]=o[k];}return c;};e.copyArray=function(a){var c=[];for(var i=0,l=a.length;i<l;i++){if(a[i]&&typeof a[i]=="object")c[i]=this.copyObject(a[i]);else c[i]=a[i];}return c;};e.deepCopy=function deepCopy(o){if(typeof o!=="object"||!o)return o;var c;if(Array.isArray(o)){c=[];for(var k=0;k<o.length;k++){c[k]=deepCopy(o[k]);}return c;}if(Object.prototype.toString.call(o)!=="[object Object]")return o;c={};for(var k in o)c[k]=deepCopy(o[k]);return c;};e.arrayToMap=function(a){var c={};for(var i=0;i<a.length;i++){c[a[i]]=1;}return c;};e.createMap=function(p){var a=Object.create(null);for(var i in p){a[i]=p[i];}return a;};e.arrayRemove=function(a,v){for(var i=0;i<=a.length;i++){if(v===a[i]){a.splice(i,1);}}};e.escapeRegExp=function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,'\\$1');};e.escapeHTML=function(s){return s.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;");};e.getMatchOffsets=function(s,a){var c=[];s.replace(a,function(d){c.push({offset:arguments[arguments.length-2],length:d.length});});return c;};e.deferredCall=function(f){var a=null;var c=function(){a=null;f();};var d=function(g){d.cancel();a=setTimeout(c,g||0);return d;};d.schedule=d;d.call=function(){this.cancel();f();return d;};d.cancel=function(){clearTimeout(a);a=null;return d;};d.isPending=function(){return a;};return d;};e.delayedCall=function(f,d){var a=null;var c=function(){a=null;f();};var _=function(g){if(a==null)a=setTimeout(c,g||d);};_.delay=function(g){a&&clearTimeout(a);a=setTimeout(c,g||d);};_.schedule=_;_.call=function(){this.cancel();f();};_.cancel=function(){a&&clearTimeout(a);a=null;};_.isPending=function(){return a;};return _;};});ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(r,a,m){"use strict";var R=r("../range").Range;var D=r("../document").Document;var l=r("../lib/lang");var M=a.Mirror=function(s){this.sender=s;var b=this.doc=new D("");var c=this.deferredUpdate=l.delayedCall(this.onUpdate.bind(this));var _=this;s.on("change",function(e){var f=e.data;if(f[0].start){b.applyDeltas(f);}else{for(var i=0;i<f.length;i+=2){if(Array.isArray(f[i+1])){var d={action:"insert",start:f[i],lines:f[i+1]};}else{var d={action:"remove",start:f[i],end:f[i+1]};}b.applyDelta(d,true);}}if(_.$timeout)return c.schedule(_.$timeout);_.onUpdate();});};(function(){this.$timeout=500;this.setTimeout=function(t){this.$timeout=t;};this.setValue=function(v){this.doc.setValue(v);this.deferredUpdate.schedule(this.$timeout);};this.getValue=function(c){this.sender.callback(this.doc.getValue(),c);};this.onUpdate=function(){};this.isPending=function(){return this.deferredUpdate.isPending();};}).call(M.prototype);});ace.define("ace/mode/lua/luaparse",["require","exports","module"],function(r,e,m){(function(a,n,f){f(e)}(this,'luaparse',function(e){'use strict';e.version='0.1.4';var a,o,b;var d=e.defaultOptions={wait:false,comments:true,scope:false,locations:false,ranges:false};var E=1,S=2,K=4,I=8,N=16,P=32,B=64,c=128,V=256;e.tokenTypes={EOF:E,StringLiteral:S,Keyword:K,Identifier:I,NumericLiteral:N,Punctuator:P,BooleanLiteral:B,NilLiteral:c,VarargLiteral:V};var f=e.errors={unexpected:'Unexpected %1 \'%2\' near \'%3\'',expected:'\'%1\' expected near \'%2\'',expectedToken:'%1 expected near \'%2\'',unfinishedString:'unfinished string near \'%1\'',malformedNumber:'malformed number near \'%1\''};var g=e.ast={labelStatement:function(l){return{type:'LabelStatement',label:l};},breakStatement:function(){return{type:'BreakStatement'};},gotoStatement:function(l){return{type:'GotoStatement',label:l};},returnStatement:function(i){return{type:'ReturnStatement','arguments':i};},ifStatement:function(i){return{type:'IfStatement',clauses:i};},ifClause:function(i,l){return{type:'IfClause',condition:i,body:l};},elseifClause:function(i,l){return{type:'ElseifClause',condition:i,body:l};},elseClause:function(i){return{type:'ElseClause',body:i};},whileStatement:function(i,l){return{type:'WhileStatement',condition:i,body:l};},doStatement:function(i){return{type:'DoStatement',body:i};},repeatStatement:function(i,l){return{type:'RepeatStatement',condition:i,body:l};},localStatement:function(i,l){return{type:'LocalStatement',variables:i,init:l};},assignmentStatement:function(i,l){return{type:'AssignmentStatement',variables:i,init:l};},callStatement:function(i){return{type:'CallStatement',expression:i};},functionStatement:function(i,l,_1,a2){return{type:'FunctionDeclaration',identifier:i,isLocal:_1,parameters:l,body:a2};},forNumericStatement:function(i,l,$1,_1,a2){return{type:'ForNumericStatement',variable:i,start:l,end:$1,step:_1,body:a2};},forGenericStatement:function(i,l,_1){return{type:'ForGenericStatement',variables:i,iterators:l,body:_1};},chunk:function(i){return{type:'Chunk',body:i};},identifier:function(i){return{type:'Identifier',name:i};},literal:function(i,l,_1){i=(i===S)?'StringLiteral':(i===N)?'NumericLiteral':(i===B)?'BooleanLiteral':(i===c)?'NilLiteral':'VarargLiteral';return{type:i,value:l,raw:_1};},tableKey:function(i,l){return{type:'TableKey',key:i,value:l};},tableKeyString:function(i,l){return{type:'TableKeyString',key:i,value:l};},tableValue:function(i){return{type:'TableValue',value:i};},tableConstructorExpression:function(i){return{type:'TableConstructorExpression',fields:i};},binaryExpression:function(i,l,_1){var a2=('and'===i||'or'===i)?'LogicalExpression':'BinaryExpression';return{type:a2,operator:i,left:l,right:_1};},unaryExpression:function(i,l){return{type:'UnaryExpression',operator:i,argument:l};},memberExpression:function(i,l,_1){return{type:'MemberExpression',indexer:l,identifier:_1,base:i};},indexExpression:function(i,w){return{type:'IndexExpression',base:i,index:w};},callExpression:function(i,l){return{type:'CallExpression',base:i,'arguments':l};},tableCallExpression:function(i,l){return{type:'TableCallExpression',base:i,'arguments':l};},stringCallExpression:function(i,l){return{type:'StringCallExpression',base:i,argument:l};},comment:function(i,l){return{type:'Comment',value:i,raw:l};}};function h(i){if(u1){var l=t1.pop();l.complete();if(o.locations)i.loc=l.loc;if(o.ranges)i.range=l.range;}return i;}var s=Array.prototype.slice,t=Object.prototype.toString,j=function j(l,_1){for(var i=0,b=l.length;i<b;i++){if(l[i]===_1)return i;}return-1;};function k(l,_1,a2){for(var i=0,b=l.length;i<b;i++){if(l[i][_1]===a2)return i;}return-1;}function n(i){var l=s.call(arguments,1);i=i.replace(/%(\d)/g,function(_1,w){return''+l[w-1]||'';});return i;}function p(){var l=s.call(arguments),_1={},a2,b2;for(var i=0,b=l.length;i<b;i++){a2=l[i];for(b2 in a2)if(a2.hasOwnProperty(b2)){_1[b2]=a2[b2];}}return _1;}function q(x){var i=n.apply(null,s.call(arguments,1)),l,_1;if('undefined'!==typeof x.line){_1=x.range[0]-x.lineStart;l=new SyntaxError(n('[%1:%2] %3',x.line,_1,i));l.line=x.line;l.index=x.range[0];l.column=_1;}else{_1=w-F+1;l=new SyntaxError(n('[%1:%2] %3',D,_1,i));l.index=w;l.line=D;l.column=_1;}throw l;}function u(i,x){q(x,f.expectedToken,i,x.value);}function v(i,l){if('undefined'===typeof l)l=z.value;if('undefined'!==typeof i.type){var _1;switch(i.type){case S:_1='string';break;case K:_1='keyword';break;case I:_1='identifier';break;case N:_1='number';break;case P:_1='symbol';break;case B:_1='boolean';break;case c:return q(i,f.unexpected,'symbol','nil',l);}return q(i,f.unexpected,_1,i.value,l);}return q(i,f.unexpected,'symbol',i,l);}var w,x,y,z,A,C,D,F;e.lex=G;function G(){H();while(45===a.charCodeAt(w)&&45===a.charCodeAt(w+1)){X();H();}if(w>=b)return{type:E,value:'<eof>',line:D,lineStart:F,range:[w,w]};var i=a.charCodeAt(w),Z=a.charCodeAt(w+1);C=w;if(e1(i))return J();switch(i){case 39:case 34:return O();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return R();case 46:if(c1(Z))return R();if(46===Z){if(46===a.charCodeAt(w+2))return M();return L('..');}return L('.');case 61:if(61===Z)return L('==');return L('=');case 62:if(61===Z)return L('>=');return L('>');case 60:if(61===Z)return L('<=');return L('<');case 126:if(61===Z)return L('~=');return q({},f.expected,'=','~');case 58:if(58===Z)return L('::');return L(':');case 91:if(91===Z||61===Z)return Q();return L('[');case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return L(a.charAt(w));}return v(a.charAt(w));}function H(){while(w<b){var i=a.charCodeAt(w);if(a1(i)){w++;}else if(b1(i)){D++;F=++w;}else{break;}}}function J(){var i,l;while(f1(a.charCodeAt(++w)));i=a.slice(C,w);if(g1(i)){l=K;}else if('true'===i||'false'===i){l=B;i=('true'===i);}else if('nil'===i){l=c;i=null;}else{l=I;}return{type:l,value:i,line:D,lineStart:F,range:[C,w]};}function L(i){w+=i.length;return{type:P,value:i,line:D,lineStart:F,range:[C,w]};}function M(){w+=3;return{type:V,value:'...',line:D,lineStart:F,range:[C,w]};}function O(){var i=a.charCodeAt(w++),l=w,_1='',a2;while(w<b){a2=a.charCodeAt(w++);if(i===a2)break;if(92===a2){_1+=a.slice(l,w-1)+W();l=w;}else if(w>=b||b1(a2)){_1+=a.slice(l,w-1);q({},f.unfinishedString,_1+String.fromCharCode(a2));}}_1+=a.slice(l,w-1);return{type:S,value:_1,line:D,lineStart:F,range:[C,w]};}function Q(){var i=Y();if(false===i)q(x,f.expected,'[',x.value);return{type:S,value:i,line:D,lineStart:F,range:[C,w]};}function R(){var i=a.charAt(w),Z=a.charAt(w+1);var l=('0'===i&&'xX'.indexOf(Z||null)>=0)?T():U();return{type:N,value:l,line:D,lineStart:F,range:[C,w]};}function T(){var i=0,l=1,_1=1,a2,b2,c2,d2;d2=w+=2;if(!d1(a.charCodeAt(w)))q({},f.malformedNumber,a.slice(C,w));while(d1(a.charCodeAt(w)))w++;a2=parseInt(a.slice(d2,w),16);if('.'===a.charAt(w)){b2=++w;while(d1(a.charCodeAt(w)))w++;i=a.slice(b2,w);i=(b2===w)?0:parseInt(i,16)/Math.pow(16,w-b2);}if('pP'.indexOf(a.charAt(w)||null)>=0){w++;if('+-'.indexOf(a.charAt(w)||null)>=0)_1=('+'===a.charAt(w++))?1:-1;c2=w;if(!c1(a.charCodeAt(w)))q({},f.malformedNumber,a.slice(C,w));while(c1(a.charCodeAt(w)))w++;l=a.slice(c2,w);l=Math.pow(2,l*_1);}return(a2+i)*l;}function U(){while(c1(a.charCodeAt(w)))w++;if('.'===a.charAt(w)){w++;while(c1(a.charCodeAt(w)))w++;}if('eE'.indexOf(a.charAt(w)||null)>=0){w++;if('+-'.indexOf(a.charAt(w)||null)>=0)w++;if(!c1(a.charCodeAt(w)))q({},f.malformedNumber,a.slice(C,w));while(c1(a.charCodeAt(w)))w++;}return parseFloat(a.slice(C,w));}function W(){var i=w;switch(a.charAt(w)){case'n':w++;return'\n';case'r':w++;return'\r';case't':w++;return'\t';case'v':w++;return'\x0B';case'b':w++;return'\b';case'f':w++;return'\f';case'z':w++;H();return'';case'x':if(d1(a.charCodeAt(w+1))&&d1(a.charCodeAt(w+2))){w+=3;return'\\'+a.slice(i,w);}return'\\'+a.charAt(w++);default:if(c1(a.charCodeAt(w))){while(c1(a.charCodeAt(++w)));return'\\'+a.slice(i,w);}return a.charAt(w++);}}function X(){C=w;w+=2;var i=a.charAt(w),l='',_1=false,a2=w,b2=F,c2=D;if('['===i){l=Y();if(false===l)l=i;else _1=true;}if(!_1){while(w<b){if(b1(a.charCodeAt(w)))break;w++;}if(o.comments)l=a.slice(a2,w);}if(o.comments){var d2=g.comment(l,a.slice(C,w));if(o.locations){d2.loc={start:{line:c2,column:C-b2},end:{line:D,column:w-F}};}if(o.ranges){d2.range=[C,w];}A.push(d2);}}function Y(){var l=0,_1='',a2=false,b2,c2;w++;while('='===a.charAt(w+l))l++;if('['!==a.charAt(w+l))return false;w+=l+1;if(b1(a.charCodeAt(w))){D++;F=w++;}c2=w;while(w<b){b2=a.charAt(w++);if(b1(b2.charCodeAt(0))){D++;F=w;}if(']'===b2){a2=true;for(var i=0;i<l;i++){if('='!==a.charAt(w+i))a2=false;}if(']'!==a.charAt(w+l))a2=false;}if(a2)break;}_1+=a.slice(c2,w-1);w+=l+1;return _1;}function Z(){y=x;x=z;z=G();}function $(i){if(i===x.value){Z();return true;}return false;}function _(i){if(i===x.value)Z();else q(x,f.expected,i,x.value);}function a1(i){return 9===i||32===i||0xB===i||0xC===i;}function b1(i){return 10===i||13===i;}function c1(i){return i>=48&&i<=57;}function d1(i){return(i>=48&&i<=57)||(i>=97&&i<=102)||(i>=65&&i<=70);}function e1(i){return(i>=65&&i<=90)||(i>=97&&i<=122)||95===i;}function f1(i){return(i>=65&&i<=90)||(i>=97&&i<=122)||95===i||(i>=48&&i<=57);}function g1(i){switch(i.length){case 2:return'do'===i||'if'===i||'in'===i||'or'===i;case 3:return'and'===i||'end'===i||'for'===i||'not'===i;case 4:return'else'===i||'goto'===i||'then'===i;case 5:return'break'===i||'local'===i||'until'===i||'while'===i;case 6:return'elseif'===i||'repeat'===i||'return'===i;case 8:return'function'===i;}return false;}function h1(x){if(P===x.type)return'#-'.indexOf(x.value)>=0;if(K===x.type)return'not'===x.value;return false;}function i1(i){switch(i.type){case'CallExpression':case'TableCallExpression':case'StringCallExpression':return true;}return false;}function j1(x){if(E===x.type)return true;if(K!==x.type)return false;switch(x.value){case'else':case'elseif':case'end':case'until':return true;default:return false;}}var k1,l1,m1;function n1(){k1.push(Array.apply(null,k1[l1++]));}function o1(){k1.pop();l1--;}function p1(i){if(-1!==j(k1[l1],i))return;k1[l1].push(i);}function q1(i){p1(i.name);r1(i,true);}function r1(i,l){if(!l&&-1===k(m1,'name',i.name))m1.push(i);i.isLocal=l;}function s1(i){return(-1!==j(k1[l1],i));}var t1=[],u1;function v1(){return new w1(x);}function w1(x){if(o.locations){this.loc={start:{line:x.line,column:x.range[0]-x.lineStart},end:{line:0,column:0}};}if(o.ranges)this.range=[x.range[0],0];}w1.prototype.complete=function(){if(o.locations){this.loc.end.line=y.line;this.loc.end.column=y.range[1]-y.lineStart;}if(o.ranges){this.range[1]=y.range[1];}};function x1(){if(u1)t1.push(v1());}function y1(i){if(u1)t1.push(i);}function z1(){Z();x1();var i=A1();if(E!==x.type)v(x);if(u1&&!i.length)y=x;return h(g.chunk(i));}function A1(i){var l=[],_1;if(o.scope)n1();while(!j1(x)){if('return'===x.value){l.push(B1());break;}_1=B1();if(_1)l.push(_1);}if(o.scope)o1();return l;}function B1(){x1();if(K===x.type){switch(x.value){case'local':Z();return L1();case'if':Z();return J1();case'return':Z();return I1();case'function':Z();var i=P1();return O1(i);case'while':Z();return G1();case'for':Z();return K1();case'repeat':Z();return H1();case'break':Z();return D1();case'do':Z();return F1();case'goto':Z();return E1();}}if(P===x.type){if($('::'))return C1();}if(u1)t1.pop();if($(';'))return;return M1();}function C1(){var i=x.value,l=N1();if(o.scope){p1('::'+i+'::');r1(l,true);}_('::');return h(g.labelStatement(l));}function D1(){return h(g.breakStatement());}function E1(){var i=x.value,l=N1();if(o.scope)l.isLabel=s1('::'+i+'::');return h(g.gotoStatement(l));}function F1(){var i=A1();_('end');return h(g.doStatement(i));}function G1(){var i=S1();_('do');var l=A1();_('end');return h(g.whileStatement(i,l));}function H1(){var i=A1();_('until');var l=S1();return h(g.repeatStatement(l,i));}function I1(){var i=[];if('end'!==x.value){var l=R1();if(null!=l)i.push(l);while($(',')){l=S1();i.push(l);}$(';');}return h(g.returnStatement(i));}function J1(){var i=[],l,_1,a2;if(u1){a2=t1[t1.length-1];t1.push(a2);}l=S1();_('then');_1=A1();i.push(h(g.ifClause(l,_1)));if(u1)a2=v1();while($('elseif')){y1(a2);l=S1();_('then');_1=A1();i.push(h(g.elseifClause(l,_1)));if(u1)a2=v1();}if($('else')){if(u1){a2=new w1(y);t1.push(a2);}_1=A1();i.push(h(g.elseClause(_1)));}_('end');return h(g.ifStatement(i));}function K1(){var i=N1(),l;if(o.scope)q1(i);if($('=')){var _1=S1();_(',');var $1=S1();var a2=$(',')?S1():null;_('do');l=A1();_('end');return h(g.forNumericStatement(i,_1,$1,a2,l));}else{var b2=[i];while($(',')){i=N1();if(o.scope)q1(i);b2.push(i);}_('in');var c2=[];do{var d2=S1();c2.push(d2);}while($(','));_('do');l=A1();_('end');return h(g.forGenericStatement(b2,c2,l));}}function L1(){var _1;if(I===x.type){var a2=[],b2=[];do{_1=N1();a2.push(_1);}while($(','));if($('=')){do{var c2=S1();b2.push(c2);}while($(','));}if(o.scope){for(var i=0,l=a2.length;i<l;i++){q1(a2[i]);}}return h(g.localStatement(a2,b2));}if($('function')){_1=N1();if(o.scope)q1(_1);return O1(_1,true);}else{u('<name>',x);}}function M1(){var i=x,l,_1;if(u1)_1=v1();l=V1();if(null==l)return v(x);if(',='.indexOf(x.value)>=0){var a2=[l],b2=[],c2;while($(',')){c2=V1();if(null==c2)u('<expression>',x);a2.push(c2);}_('=');do{c2=S1();b2.push(c2);}while($(','));y1(_1);return h(g.assignmentStatement(a2,b2));}if(i1(l)){y1(_1);return h(g.callStatement(l));}return v(i);}function N1(){x1();var i=x.value;if(I!==x.type)u('<name>',x);Z();return h(g.identifier(i));}function O1(i,l){var _1=[];_('(');if(!$(')')){while(true){if(I===x.type){var a2=N1();if(o.scope)q1(a2);_1.push(a2);if($(','))continue;else if($(')'))break;}else if(V===x.type){_1.push(X1());_(')');break;}else{u('<name> or \'...\'',x);}}}var b2=A1();_('end');l=l||false;return h(g.functionStatement(i,_1,l,b2));}function P1(){var i,l,_1;if(u1)_1=v1();i=N1();if(o.scope)r1(i,false);while($('.')){y1(_1);l=N1();if(o.scope)r1(l,false);i=h(g.memberExpression(i,'.',l));}if($(':')){y1(_1);l=N1();if(o.scope)r1(l,false);i=h(g.memberExpression(i,':',l));}return i;}function Q1(){var i=[],l,_1;while(true){x1();if(P===x.type&&$('[')){l=S1();_(']');_('=');_1=S1();i.push(h(g.tableKey(l,_1)));}else if(I===x.type){l=S1();if($('=')){_1=S1();i.push(h(g.tableKeyString(l,_1)));}else{i.push(h(g.tableValue(l)));}}else{if(null==(_1=R1())){t1.pop();break;}i.push(h(g.tableValue(_1)));}if(',;'.indexOf(x.value)>=0){Z();continue;}if('}'===x.value)break;}_('}');return h(g.tableConstructorExpression(i));}function R1(){var i=U1(0);return i;}function S1(){var i=R1();if(null==i)u('<expression>',x);else return i;}function T1(i){var l=i.charCodeAt(0),b=i.length;if(1===b){switch(l){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3;}}else if(2===b){switch(l){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1;}}else if(97===l&&'and'===i)return 2;return 0;}function U1(i){var l=x.value,_1,a2;if(u1)a2=v1();if(h1(x)){x1();Z();var b2=U1(8);if(b2==null)u('<expression>',x);_1=h(g.unaryExpression(l,b2));}if(null==_1){_1=X1();if(null==_1){_1=V1();}}if(null==_1)return null;var c2;while(true){l=x.value;c2=(P===x.type||K===x.type)?T1(l):0;if(c2===0||c2<=i)break;if('^'===l||'..'===l)c2--;Z();var d2=U1(c2);if(null==d2)u('<expression>',x);if(u1)t1.push(a2);_1=h(g.binaryExpression(l,_1,d2));}return _1;}function V1(){var i,l,_1,a2;if(u1)_1=v1();if(I===x.type){l=x.value;i=N1();if(o.scope)r1(i,a2=s1(l));}else if($('(')){i=S1();_(')');if(o.scope)a2=i.isLocal;}else{return null;}var b2,c2;while(true){if(P===x.type){switch(x.value){case'[':y1(_1);Z();b2=S1();i=h(g.indexExpression(i,b2));_(']');break;case'.':y1(_1);Z();c2=N1();if(o.scope)r1(c2,a2);i=h(g.memberExpression(i,'.',c2));break;case':':y1(_1);Z();c2=N1();if(o.scope)r1(c2,a2);i=h(g.memberExpression(i,':',c2));y1(_1);i=W1(i);break;case'(':case'{':y1(_1);i=W1(i);break;default:return i;}}else if(S===x.type){y1(_1);i=W1(i);}else{break;}}return i;}function W1(i){if(P===x.type){switch(x.value){case'(':Z();var l=[];var _1=R1();if(null!=_1)l.push(_1);while($(',')){_1=S1();l.push(_1);}_(')');return h(g.callExpression(i,l));case'{':x1();Z();var a2=Q1();return h(g.tableCallExpression(i,a2));}}else if(S===x.type){return h(g.stringCallExpression(i,X1()));}u('function arguments',x);}function X1(){var l=S|N|B|c|V,i=x.value,_1=x.type,a2;if(u1)a2=v1();if(_1&l){y1(a2);var b2=a.slice(x.range[0],x.range[1]);Z();return h(g.literal(_1,i,b2));}else if(K===_1&&'function'===i){y1(a2);Z();return O1(null);}else if($('{')){y1(a2);return Q1();}}e.parse=Y1;function Y1(i,l){if('undefined'===typeof l&&'object'===typeof i){l=i;i=undefined;}if(!l)l={};a=i||'';o=p(d,l);w=0;D=1;F=0;b=a.length;k1=[[]];l1=0;m1=[];t1=[];if(o.comments)A=[];if(!o.wait)return $1();return e;}e.write=Z1;function Z1(i){a+=String(i);b=a.length;return e;}e.end=$1;function $1(i){if('undefined'!==typeof i)Z1(i);b=a.length;u1=o.locations||o.ranges;z=G();var l=z1();if(o.comments)l.comments=A;if(o.scope)l.globals=m1;if(t1.length>0)throw new Error('Location tracking failed. This is most likely a bug in luaparse');return l;}}));});ace.define("ace/mode/lua_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/lua/luaparse"],function(r,a,m){"use strict";var o=r("../lib/oop");var M=r("../worker/mirror").Mirror;var l=r("../mode/lua/luaparse");var W=a.Worker=function(s){M.call(this,s);this.setTimeout(500);};o.inherits(W,M);(function(){this.onUpdate=function(){var v=this.doc.getValue();var b=[];try{l.parse(v);}catch(e){if(e instanceof SyntaxError){b.push({row:e.line-1,column:e.column,text:e.message,type:"error"});}}this.sender.emit("annotate",b);};}).call(W.prototype);});ace.define("ace/lib/es5-shim",["require","exports","module"],function(r,e,m){function E(){}if(!Function.prototype.bind){Function.prototype.bind=function bind(a){var i=this;if(typeof i!="function"){throw new TypeError("Function.prototype.bind called on incompatible "+i);}var l=s.call(arguments,1);var n=function(){if(this instanceof n){var o=i.apply(this,l.concat(s.call(arguments)));if(Object(o)===o){return o;}return this;}else{return i.apply(a,l.concat(s.call(arguments)));}};if(i.prototype){E.prototype=i.prototype;n.prototype=new E();E.prototype=null;}return n;};}var c=Function.prototype.call;var p=Array.prototype;var b=Object.prototype;var s=p.slice;var _=c.bind(b.toString);var d=c.bind(b.hasOwnProperty);var f;var g;var h;var j;var k;if((k=d(b,"__defineGetter__"))){f=c.bind(b.__defineGetter__);g=c.bind(b.__defineSetter__);h=c.bind(b.__lookupGetter__);j=c.bind(b.__lookupSetter__);}if([1,2].splice(0).length!=2){if(function(){function i(l){var a=new Array(l+2);a[0]=a[1]=0;return a;}var n=[],o;n.splice.apply(n,i(20));n.splice.apply(n,i(26));o=n.length;n.splice(5,0,"XXX");o+1==n.length;if(o+1==n.length){return true;}}()){var q=Array.prototype.splice;Array.prototype.splice=function(a,i){if(!arguments.length){return[];}else{return q.apply(this,[a===void 0?0:a,i===void 0?(this.length-a):i].concat(s.call(arguments,2)))}};}else{Array.prototype.splice=function(a,l){var n=this.length;if(a>0){if(a>n)a=n;}else if(a==void 0){a=0;}else if(a<0){a=Math.max(n+a,0);}if(!(a+l<n))l=n-a;var o=this.slice(a,a+l);var R=s.call(arguments,2);var S=R.length;if(a===n){if(S){this.push.apply(this,R);}}else{var T=Math.min(l,n-a);var U=a+T;var V=U+S-T;var W=n-U;var X=n-T;if(V<U){for(var i=0;i<W;++i){this[V+i]=this[U+i];}}else if(V>U){for(i=W;i--;){this[V+i]=this[U+i];}}if(S&&a===X){this.length=X;this.push.apply(this,R);}else{this.length=X+S;for(i=0;i<S;++i){this[a+i]=R[i];}}}return o;};}}if(!Array.isArray){Array.isArray=function isArray(o){return _(o)=="[object Array]";};}var t=Object("a"),u=t[0]!="a"||!(0 in t);if(!Array.prototype.forEach){Array.prototype.forEach=function forEach(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=arguments[1],i=-1,R=l.length>>>0;if(_(a)!="[object Function]"){throw new TypeError();}while(++i<R){if(i in l){a.call(n,l[i],i,o);}}};}if(!Array.prototype.map){Array.prototype.map=function map(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0,R=Array(n),S=arguments[1];if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}for(var i=0;i<n;i++){if(i in l)R[i]=a.call(S,l[i],i,o);}return R;};}if(!Array.prototype.filter){Array.prototype.filter=function filter(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0,R=[],S,T=arguments[1];if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}for(var i=0;i<n;i++){if(i in l){S=l[i];if(a.call(T,S,i,o)){R.push(S);}}}return R;};}if(!Array.prototype.every){Array.prototype.every=function every(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0,R=arguments[1];if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}for(var i=0;i<n;i++){if(i in l&&!a.call(R,l[i],i,o)){return false;}}return true;};}if(!Array.prototype.some){Array.prototype.some=function some(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0,R=arguments[1];if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}for(var i=0;i<n;i++){if(i in l&&a.call(R,l[i],i,o)){return true;}}return false;};}if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0;if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}if(!n&&arguments.length==1){throw new TypeError("reduce of empty array with no initial value");}var i=0;var R;if(arguments.length>=2){R=arguments[1];}else{do{if(i in l){R=l[i++];break;}if(++i>=n){throw new TypeError("reduce of empty array with no initial value");}}while(true);}for(;i<n;i++){if(i in l){R=a.call(void 0,R,l[i],i,o);}}return R;};}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function reduceRight(a){var o=Q(this),l=u&&_(this)=="[object String]"?this.split(""):o,n=l.length>>>0;if(_(a)!="[object Function]"){throw new TypeError(a+" is not a function");}if(!n&&arguments.length==1){throw new TypeError("reduceRight of empty array with no initial value");}var R,i=n-1;if(arguments.length>=2){R=arguments[1];}else{do{if(i in l){R=l[i--];break;}if(--i<0){throw new TypeError("reduceRight of empty array with no initial value");}}while(true);}do{if(i in this){R=a.call(void 0,R,l[i],i,o);}}while(i--);return R;};}if(!Array.prototype.indexOf||([0,1].indexOf(1,2)!=-1)){Array.prototype.indexOf=function indexOf(a){var l=u&&_(this)=="[object String]"?this.split(""):Q(this),n=l.length>>>0;if(!n){return-1;}var i=0;if(arguments.length>1){i=N(arguments[1]);}i=i>=0?i:Math.max(0,n+i);for(;i<n;i++){if(i in l&&l[i]===a){return i;}}return-1;};}if(!Array.prototype.lastIndexOf||([0,1].lastIndexOf(0,-3)!=-1)){Array.prototype.lastIndexOf=function lastIndexOf(a){var l=u&&_(this)=="[object String]"?this.split(""):Q(this),n=l.length>>>0;if(!n){return-1;}var i=n-1;if(arguments.length>1){i=Math.min(i,N(arguments[1]));}i=i>=0?i:n-Math.abs(i);for(;i>=0;i--){if(i in l&&a===l[i]){return i;}}return-1;};}if(!Object.getPrototypeOf){Object.getPrototypeOf=function getPrototypeOf(o){return o.__proto__||(o.constructor?o.constructor.prototype:b);};}if(!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a "+"non-object: ";Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(o,a){if((typeof o!="object"&&typeof o!="function")||o===null)throw new TypeError(v+o);if(!d(o,a))return;var i,l,n;i={enumerable:true,configurable:true};if(k){var R=o.__proto__;o.__proto__=b;var l=h(o,a);var n=j(o,a);o.__proto__=R;if(l||n){if(l)i.get=l;if(n)i.set=n;return i;}}i.value=o[a];return i;};}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function getOwnPropertyNames(o){return Object.keys(o);};}if(!Object.create){var w;if(Object.prototype.__proto__===null){w=function(){return{"__proto__":null};};}else{w=function(){var a={};for(var i in a)a[i]=null;a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null;return a;}}Object.create=function create(a,i){var o;if(a===null){o=w();}else{if(typeof a!="object")throw new TypeError("typeof prototype["+(typeof a)+"] != 'object'");var T=function(){};T.prototype=a;o=new T();o.__proto__=a;}if(i!==void 0)Object.defineProperties(o,i);return o;};}function x(o){try{Object.defineProperty(o,"sentinel",{});return"sentinel"in o;}catch(F){}}if(Object.defineProperty){var y=x({});var z=typeof document=="undefined"||x(document.createElement("div"));if(!y||!z){var A=Object.defineProperty;}}if(!Object.defineProperty||A){var B="Property description must be an object: ";var C="Object.defineProperty called on non-object: ";var D="getters & setters can not be defined "+"on this javascript engine";Object.defineProperty=function defineProperty(o,a,i){if((typeof o!="object"&&typeof o!="function")||o===null)throw new TypeError(C+o);if((typeof i!="object"&&typeof i!="function")||i===null)throw new TypeError(B+i);if(A){try{return A.call(Object,o,a,i);}catch(F){}}if(d(i,"value")){if(k&&(h(o,a)||j(o,a))){var l=o.__proto__;o.__proto__=b;delete o[a];o[a]=i.value;o.__proto__=l;}else{o[a]=i.value;}}else{if(!k)throw new TypeError(D);if(d(i,"get"))f(o,a,i.get);if(d(i,"set"))g(o,a,i.set);}return o;};}if(!Object.defineProperties){Object.defineProperties=function defineProperties(o,a){for(var i in a){if(d(a,i))Object.defineProperty(o,i,a[i]);}return o;};}if(!Object.seal){Object.seal=function seal(o){return o;};}if(!Object.freeze){Object.freeze=function freeze(o){return o;};}try{Object.freeze(function(){});}catch(F){Object.freeze=(function freeze(a){return function freeze(o){if(typeof o=="function"){return o;}else{return a(o);}};})(Object.freeze);}if(!Object.preventExtensions){Object.preventExtensions=function preventExtensions(o){return o;};}if(!Object.isSealed){Object.isSealed=function isSealed(o){return false;};}if(!Object.isFrozen){Object.isFrozen=function isFrozen(o){return false;};}if(!Object.isExtensible){Object.isExtensible=function isExtensible(o){if(Object(o)===o){throw new TypeError();}var n='';while(d(o,n)){n+='?';}o[n]=true;var a=d(o,n);delete o[n];return a;};}if(!Object.keys){var G=true,H=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],I=H.length;for(var J in{"toString":null}){G=false;}Object.keys=function keys(o){if((typeof o!="object"&&typeof o!="function")||o===null){throw new TypeError("Object.keys called on a non-object");}var a=[];for(var n in o){if(d(o,n)){a.push(n);}}if(G){for(var i=0,l=I;i<l;i++){var R=H[i];if(d(o,R)){a.push(R);}}}return a;};}if(!Date.now){Date.now=function now(){return new Date().getTime();};}var K="\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028"+"\u2029\uFEFF";if(!String.prototype.trim||K.trim()){K="["+K+"]";var L=new RegExp("^"+K+K+"*"),M=new RegExp(K+K+"*$");String.prototype.trim=function trim(){return String(this).replace(L,"").replace(M,"");};}function N(n){n=+n;if(n!==n){n=0;}else if(n!==0&&n!==(1/0)&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n));}return n;}function O(i){var a=typeof i;return(i===null||a==="undefined"||a==="boolean"||a==="number"||a==="string");}function P(i){var a,l,n;if(O(i)){return i;}l=i.valueOf;if(typeof l==="function"){a=l.call(i);if(O(a)){return a;}}n=i.toString;if(typeof n==="function"){a=n.call(i);if(O(a)){return a;}}throw new TypeError();}var Q=function(o){if(o==null){throw new TypeError("can't convert "+o+" to object");}return Object(o);};});
