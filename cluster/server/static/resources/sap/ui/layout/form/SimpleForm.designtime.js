/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var h=function(f){if(f.getTitle()){return true;}else{var s=f.getParent().getParent();return s.getContent().some(function(c){return c.getVisible();});}};return{name:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},aggregations:{content:{ignore:true},form:{inHiddenTree:true,getIndex:function(s,f){var i=0;var F=s.getAggregation("form").getFormContainers();if(f){i=F.indexOf(f)+1;}else{var t=F[F.length-1].getTitle();if(t!==null){i=F.length;}}return i;},ignore:false,childNames:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},beforeMove:function(s){if(s){s._bChangedByMe=true;}},afterMove:function(s){if(s){s._bChangedByMe=false;}},actions:{move:function(m){var t=m.getMetadata().getName();var M;if(t==="sap.ui.layout.form.FormContainer"){M={changeType:"moveSimpleFormGroup"};}else if(t==="sap.ui.layout.form.FormElement"){M={changeType:"moveSimpleFormField"};}return M;},rename:function(e){var t=e.getMetadata().getName();var i=true;var r;if(t==="sap.ui.layout.form.FormContainer"){if(e.getToolbar()||!e.getTitle()){i=false;}r={changeType:"renameTitle",isEnabled:i,domRef:function(c){if(c.getTitle&&c.getTitle()){return c.getTitle().getDomRef();}}};}else if(t==="sap.ui.layout.form.FormElement"){r={changeType:"renameLabel",isEnabled:i,domRef:function(c){return c.getLabel().getDomRef();}};}return r;},remove:function(r){var t=r.getMetadata().getName();var c;var i=true;if(t==="sap.ui.layout.form.FormContainer"){c="removeSimpleFormGroup";if(!r.getToolbar()&&!h.call(this,r)){i=false;}}else if(t==="sap.ui.layout.form.FormElement"){c="hideSimpleFormField";}else{return undefined;}return{changeType:c,isEnabled:i,getConfirmationText:function(r){var C=false;if(r.getMetadata().getName()==="sap.ui.layout.form.FormContainer"&&r.getToolbar&&r.getToolbar()){var T=r.getToolbar().getContent();if(T.length>1){C=true;}else if((T.length===1)&&(!T[0].getMetadata().isInstanceOf("sap.ui.core.Label")&&!T[0]instanceof sap.ui.core.Title&&!T[0]instanceof sap.m.Title)){C=true;}}if(C){var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");return o.getText("MSG_REMOVING_TOOLBAR");}},getState:function(s){var C=s.getContent();return{content:C.map(function(e){return{element:e,visible:e.getVisible?e.getVisible():undefined,index:C.indexOf(e)};})};},restoreState:function(s,S){s.removeAllContent();S.content.forEach(function(e){s.insertContent(e.element,e.index);if(e.element.setVisible){e.element.setVisible(e.visible);}});}};},createContainer:function(e){var t=e.getMetadata().getName();var c;if(t==="sap.ui.layout.form.FormElement"){return null;}else if(t==="sap.ui.layout.form.SimpleForm"){c={changeType:"addSimpleFormGroup",isEnabled:function(s){var f=s.getAggregation("form");var F=f.getFormContainers();for(var i=0;i<F.length;i++){if(F[i].getToolbar&&F[i].getToolbar()){return false;}}return true;},getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}else if(t==="sap.ui.layout.form.FormContainer"){c={changeType:"addSimpleFormGroup",isEnabled:function(f){if(f.getToolbar&&f.getToolbar()){return false;}return true;},getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}return c;},reveal:function(p,a){var t=p.getMetadata().getName();var r=a?(a==="formElements"||a==="formContainers"):true;if(t==="sap.ui.layout.form.FormContainer"&&r){return{changeType:"unhideSimpleFormField",getInvisibleElements:function(s){var e=[];var c=s.getContent();c.forEach(function(f){if(f instanceof sap.m.Label&&!f.getDomRef()){e.push(f.getParent());}});return e;}};}}},getStableElements:function(e){var s=[];var l;var t;if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){l=e.getLabel();if(l){s.push(l);}s=s.concat(e.getFields());}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){t=e.getTitle()||e.getToolbar();if(t){s[0]=t;}e.getFormElements().forEach(function(f){l=f.getLabel();if(l){s.push(l);}s=s.concat(f.getFields());});}return s;}}}};},false);
